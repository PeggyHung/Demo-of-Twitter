(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c44f457"],{2797:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"replyModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"posting"},[a("img",{staticClass:"photo",attrs:{src:t.tweet.avatar,alt:""}}),a("div",{staticClass:"tweet-info"},[a("div",{staticClass:"user-info"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.tweet.name))]),a("span",{staticClass:"user-account"},[t._v("@"+t._s(t.tweet.account))]),a("span",[t._v("．")]),a("span",{staticClass:"create-time"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt))+"小時")])]),a("div",{staticClass:"tweet-text"},[t._v(" "+t._s(t.tweet.description)+" ")]),a("div",{staticClass:"reply-hint"},[t._v("回覆給@"+t._s(t.tweet.account))])]),a("div",{staticClass:"connect-line"})]),a("div",{staticClass:"posting"},[a("img",{staticClass:"photo",attrs:{src:"https://img.onl/d0RNIH",alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],staticClass:"new-reply",attrs:{id:"note",placeholder:"推你的回覆",autofocus:"",rows:"5"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}})]),a("div",{staticClass:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.replyContent.length,expression:"!replyContent.length"}],staticClass:"text-limit-error"},[t._v(" 內容不可空白 ")]),a("button",{staticClass:"btn-submit",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.handleSubmit}},[t._v(" 回覆 ")])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=a("5530"),i=a("c1df"),c=a.n(i),o={name:"Replication",filters:{fromNow:function(t){return t?c()(t).fromNow():"-"}},props:{},data:function(){return{tweet:{},replyContent:"",userId:-1}},methods:{handleSubmit:function(){0!==this.replyContent.length&&(this.$emit("after-reply",{tweetId:this.tweetId,userId:this.userId,comment:this.replyContent}),this.replyContent="")}},watch:{initialTweet:function(t){console.log("replyNewValue",t),this.tweet=Object(n["a"])(Object(n["a"])({},this.tweet),t)}}},l=o,u=(a("d532"),a("2877")),p=Object(u["a"])(l,s,r,!1,null,"4a6fe6d2",null);e["a"]=p.exports},"3c74":function(t,e,a){"use strict";a("c2f3")},"408a":function(t,e,a){var s=a("e330");t.exports=s(1..valueOf)},"40a5":function(t,e,a){"use strict";a("8a7b")},"56c3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-content"},[a("Navbar")],1),a("div",{staticClass:"middle-content"},[a("header",[a("img",{staticClass:"vector-primary",attrs:{src:"https://i.imgur.com/PYbiwrX.png",alt:""},on:{click:function(e){return t.$router.back()}}}),t._m(0)]),a("div",{staticClass:"tweet-section"},[a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"user-avatar-name-account"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.userId}}}},[a("img",{staticClass:"user-avatar",attrs:{src:t.tweet.avatar,alt:""}})]),a("div",{staticClass:"user-name-account"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.tweet.name))]),a("span",{staticClass:"user-account"},[t._v("@"+t._s(t.tweet.account))])])],1),a("div",{staticClass:"tweet-description"},[t._v(" "+t._s(t.tweet.description)+" ")]),a("div",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt))+"小時")])]),a("div",{staticClass:"tweet-counts"},[a("p",{staticClass:"reply-count"},[t._v(t._s(t.tweet.replyCount)),a("span",[t._v(" 回覆")])]),a("p",{staticClass:"like-count"},[t._v(t._s(t.tweet.likeCount)),a("span",[t._v(" 喜歡次數")])])]),a("div",{staticClass:"tweet-actions"},[a("font-awesome-icon",{attrs:{"data-toggle":"modal","data-target":"#replyModal",icon:"fa-regular fa-comment"}}),t.tweet.isLiked?a("font-awesome-icon",{staticClass:"fa-heart-active",attrs:{icon:"fa-regular fa-heart"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteLike(t.tweet.id)}}}):a("font-awesome-icon",{attrs:{icon:"fa-regular fa-heart"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addLike(t.tweet.id)}}})],1)]),t._l(t.replylist,(function(t){return a("ReplyCard",{key:t.id,attrs:{"initial-reply":t}})}))],2),a("div",{staticClass:"right-content"},[a("PopularList")],1),a("ReplyModal",{attrs:{"initial-tweet":t.tweet},on:{"after-reply":t.handleAfterReply}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h4",[t._v("推文")])])}],n=a("5530"),i=a("1da1"),c=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),a("d9e2"),a("d178")),o=a("d88d"),l=a("f47d"),u=a("2797"),p=a("6783"),d={components:{Navbar:c["a"],ReplyCard:o["a"],PopularList:l["a"],ReplyModal:u["a"]},data:function(){return{user:{Id:-1},tweet:{id:-1,name:"",account:"",avatar:"",description:"",createdAt:"",likeCount:0,replyCount:0,isLiked:!1},users:[],replylist:[]}},created:function(){this.fetchTweet(),this.fetchTweetReplies()},methods:{fetchTweet:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r,i,c,o,l,u,d,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.params.tweet_id,e.next=4,p["a"].getTweet(a);case 4:s=e.sent,r=s.data,i=r.id,c=r.name,o=r.account,l=r.avatar,u=r.description,d=r.createdAt,f=r.likeCount,v=r.replyCount,t.tweet=Object(n["a"])(Object(n["a"])({},t.tweet),{},{id:i,name:c,account:o,avatar:l,description:u,createdAt:d,likeCount:f,replyCount:v}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},fetchTweetReplies:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.params.tweet_id,e.next=4,p["a"].getTweetReplies(a);case 4:s=e.sent,r=s.data,console.log("getTweetReplies",r),t.replylist=r,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("getTweetReplies",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},handleAfterReply:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("handleAfterReply",t),a=t.tweetId,s=t.userId,r=t.comment,e.next=5,p["a"].createTweetReply({tweetId:a,userId:s,comment:r});case 5:if(n=e.sent,i=n.data,"success"===i.status){e.next=9;break}throw new Error(i.message);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log("createTweetReply",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},addLike:function(){this.tweet=Object(n["a"])(Object(n["a"])({},this.tweet),{},{isLiked:!0})},deleteLike:function(){this.tweet=Object(n["a"])(Object(n["a"])({},this.tweet),{},{isLiked:!1})}}},f=d,v=(a("40a5"),a("2877")),m=Object(v["a"])(f,s,r,!1,null,"ea8f449e",null);e["default"]=m.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("e330"),r=a("1d80"),n=a("577e"),i=a("5899"),c=s("".replace),o="["+i+"]",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),p=function(t){return function(e){var a=n(r(e));return 1&t&&(a=c(a,l,"")),2&t&&(a=c(a,u,"")),a}};t.exports={start:p(1),end:p(2),trim:p(3)}},"8a7b":function(t,e,a){},a9e3:function(t,e,a){"use strict";var s=a("83ab"),r=a("da84"),n=a("e330"),i=a("94ca"),c=a("cb2d"),o=a("1a2d"),l=a("7156"),u=a("3a9b"),p=a("d9b5"),d=a("c04e"),f=a("d039"),v=a("241c").f,m=a("06cf").f,w=a("9bf2").f,h=a("408a"),C=a("58a8").trim,y="Number",_=r[y],b=_.prototype,g=r.TypeError,N=n("".slice),k=n("".charCodeAt),I=function(t){var e=d(t,"number");return"bigint"==typeof e?e:R(e)},R=function(t){var e,a,s,r,n,i,c,o,l=d(t,"number");if(p(l))throw g("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=C(l),e=k(l,0),43===e||45===e){if(a=k(l,2),88===a||120===a)return NaN}else if(48===e){switch(k(l,1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+l}for(n=N(l,2),i=n.length,c=0;c<i;c++)if(o=k(n,c),o<48||o>r)return NaN;return parseInt(n,s)}return+l};if(i(y,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var x,O=function(t){var e=arguments.length<1?0:_(I(t)),a=this;return u(b,a)&&f((function(){h(a)}))?l(Object(e),a,O):e},j=s?v(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;j.length>E;E++)o(_,x=j[E])&&!o(O,x)&&w(O,x,m(_,x));O.prototype=b,b.constructor=O,c(r,y,O)}},ac23:function(t,e,a){},c2f3:function(t,e,a){},d532:function(t,e,a){"use strict";a("ac23")},d88d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-img"},[a("img",{staticClass:"user-photo",attrs:{src:t.profile.avatar,alt:""}})]),a("div",{staticClass:"reply-right"},[a("div",{staticClass:"user"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.profile.name))]),a("span",{staticClass:"user-account"},[t._v(t._s(t.reply.account)+" ·"+t._s(t._f("fromNow")(t.reply.replyCreateAt)))])]),a("div",{staticClass:"tweet"},[a("p",{staticClass:"tweet-reply"},[t._v(" 回覆 "),a("span",{staticClass:"tweet-account"},[t._v(" @"+t._s(t.reply.replyAccount))])])]),a("div",{staticClass:"reply-content"},[t._v(" "+t._s(t.reply.comment)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.initialCurrentUserId!==t.currentParams,expression:"initialCurrentUserId !== currentParams"}],staticClass:"reply-actions"},[a("div",{staticClass:"reply-action"},[a("font-awesome-icon",{attrs:{icon:"fa-regular fa-comment"}}),a("p",{staticClass:"reply-number"},[t._v(t._s(t.reply.totalReplyCount))])],1),a("div",{staticClass:"reply-action"},[a("font-awesome-icon",{attrs:{icon:"fa-regular fa-heart"}}),a("p",{staticClass:"like-number"},[t._v(t._s(t.reply.totalLikeCount))])],1)])]),a("ReplyModal")],1)},r=[],n=a("5530"),i=(a("a9e3"),a("c1df")),c=a.n(i),o=a("2797"),l={components:{ReplyModal:o["a"]},filters:{fromNow:function(t){return t?c()(t).fromNow():"-"}},props:{initialCurrentUserId:{type:Number,required:!0},initialUserReply:{type:Object,required:!0},initialProfile:{type:Object,required:!0}},data:function(){return{reply:this.initialUserReply,profile:this.initialProfile,currentParams:-1}},created:function(){var t=this.$route.params.id;this.currentParams=Number(t)},watch:{initialUserReply:function(t){this.reply=Object(n["a"])(Object(n["a"])({},this.reply),t)},initialReply:function(t){this.reply=Object(n["a"])(Object(n["a"])({},this.reply),t)}}},u=l,p=(a("3c74"),a("2877")),d=Object(p["a"])(u,s,r,!1,null,"254592ef",null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-2c44f457.ffd895d8.js.map